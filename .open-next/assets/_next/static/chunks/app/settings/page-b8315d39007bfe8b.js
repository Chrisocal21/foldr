(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{33741:(e,t,s)=>{"use strict";s.d(t,{$5:()=>i,M3:()=>l,Vv:()=>u,iD:()=>n,qo:()=>h,ri:()=>o,tK:()=>m});let a="/api";function r(){return localStorage.getItem("foldr_auth_token")}function l(){return!!r()&&!!localStorage.getItem("foldr_user_id")}async function n(e,t){try{let s=await fetch("".concat(a,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await s.json();if(r.success&&r.token&&r.userId)return localStorage.setItem("foldr_auth_token",r.token),localStorage.setItem("foldr_user_id",r.userId),localStorage.setItem("foldr_user_email",e),{success:!0,userId:r.userId,token:r.token};return{success:!1,error:r.error||"Login failed"}}catch(e){return{success:!1,error:"Network error - working offline"}}}async function i(e,t,s){try{let r=await fetch("".concat(a,"/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,inviteCode:s})}),l=await r.json();if(l.success&&l.token&&l.userId)return localStorage.setItem("foldr_auth_token",l.token),localStorage.setItem("foldr_user_id",l.userId),localStorage.setItem("foldr_user_email",e),{success:!0,userId:l.userId,token:l.token};return{success:!1,error:l.error||"Signup failed"}}catch(e){return{success:!1,error:"Network error"}}}function o(){localStorage.removeItem("foldr_auth_token"),localStorage.removeItem("foldr_user_id"),localStorage.removeItem("foldr_user_email")}async function c(){let e=r();if(!e)return{success:!1,error:"Not logged in"};try{let t={trips:localStorage.getItem("foldr_trips"),blocks:localStorage.getItem("foldr_blocks"),todos:localStorage.getItem("foldr_todos"),packingItems:localStorage.getItem("foldr_packing_items"),expenses:localStorage.getItem("foldr_expenses"),settings:localStorage.getItem("foldr_settings")},s=await fetch("".concat(a,"/sync/push"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}),r=await s.json();if(r.success)return localStorage.setItem("foldr_last_sync",new Date().toISOString()),{success:!0};return{success:!1,error:r.error||"Sync failed"}}catch(e){return{success:!1,error:"Network error - will sync when online"}}}async function d(){let e=r();if(!e)return{success:!1,error:"Not logged in"};try{let t=await fetch("".concat(a,"/sync/pull"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),s=await t.json();if(s.success)return s.trips&&localStorage.setItem("foldr_trips",s.trips),s.blocks&&localStorage.setItem("foldr_blocks",s.blocks),s.todos&&localStorage.setItem("foldr_todos",s.todos),s.packingItems&&localStorage.setItem("foldr_packing_items",s.packingItems),s.expenses&&localStorage.setItem("foldr_expenses",s.expenses),s.settings&&localStorage.setItem("foldr_settings",s.settings),localStorage.setItem("foldr_last_sync",new Date().toISOString()),{success:!0};return{success:!1,error:s.error||"Sync failed"}}catch(e){return{success:!1,error:"Network error - working offline"}}}async function u(){let e=await d();return e.success||"Network error - working offline"===e.error?await c():e}function m(){return localStorage.getItem("foldr_last_sync")}function h(){return localStorage.getItem("foldr_user_email")}},35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},46769:(e,t,s)=>{"use strict";s.d(t,{A6:()=>a,AH:()=>i,cV:()=>n,en:()=>l,tK:()=>r});let a=["United Airlines","American Airlines","Delta Air Lines","Southwest Airlines","JetBlue Airways","Alaska Airlines","Spirit Airlines","Frontier Airlines","Air Canada","British Airways","Lufthansa","Emirates","Qatar Airways","Singapore Airlines","Cathay Pacific","Air France","KLM","Turkish Airlines","Etihad Airways","Virgin Atlantic","ANA (All Nippon Airways)","Japan Airlines","Korean Air","Qantas","Iberia","Swiss International Air Lines","Austrian Airlines","Brussels Airlines","Aer Lingus","Norwegian Air","WestJet","Avianca","LATAM Airlines","Air China","China Eastern Airlines","China Southern Airlines","IndiGo","Air India","Thai Airways","Malaysia Airlines","Philippine Airlines","Vietnam Airlines","Garuda Indonesia","Air New Zealand","South African Airways","Ethiopian Airlines","Kenya Airways","EgyptAir","El Al","Saudi Arabian Airlines","Gulf Air"],r=["ATL - Hartsfield-Jackson Atlanta","LAX - Los Angeles International","ORD - Chicago O'Hare","DFW - Dallas/Fort Worth","DEN - Denver International","JFK - John F. Kennedy (New York)","SFO - San Francisco International","SEA - Seattle-Tacoma","LAS - Las Vegas McCarran","MCO - Orlando International","EWR - Newark Liberty","CLT - Charlotte Douglas","PHX - Phoenix Sky Harbor","IAH - Houston George Bush","MIA - Miami International","BOS - Boston Logan","MSP - Minneapolis-St. Paul","FLL - Fort Lauderdale","DTW - Detroit Metropolitan","PHL - Philadelphia International","LGA - LaGuardia (New York)","BWI - Baltimore/Washington","SLC - Salt Lake City","IAD - Washington Dulles","DCA - Reagan National (DC)","MDW - Chicago Midway","SAN - San Diego International","TPA - Tampa International","PDX - Portland International","STL - St. Louis Lambert","LHR - London Heathrow","CDG - Paris Charles de Gaulle","FRA - Frankfurt","AMS - Amsterdam Schiphol","MAD - Madrid Barajas","BCN - Barcelona El Prat","FCO - Rome Fiumicino","MXP - Milan Malpensa","MUC - Munich","ZRH - Zurich","VIE - Vienna","BRU - Brussels","DUB - Dublin","CPH - Copenhagen","ARN - Stockholm Arlanda","OSL - Oslo Gardermoen","HEL - Helsinki Vantaa","IST - Istanbul","DXB - Dubai International","DOH - Doha Hamad","AUH - Abu Dhabi","CAI - Cairo","JNB - Johannesburg","CPT - Cape Town","NRT - Tokyo Narita","HND - Tokyo Haneda","KIX - Osaka Kansai","ICN - Seoul Incheon","PVG - Shanghai Pudong","PEK - Beijing Capital","HKG - Hong Kong","SIN - Singapore Changi","BKK - Bangkok Suvarnabhumi","KUL - Kuala Lumpur","CGK - Jakarta","MNL - Manila","SYD - Sydney","MEL - Melbourne","AKL - Auckland","YYZ - Toronto Pearson","YVR - Vancouver","YUL - Montreal Trudeau","MEX - Mexico City","GRU - S\xe3o Paulo Guarulhos","GIG - Rio de Janeiro","EZE - Buenos Aires Ezeiza","SCL - Santiago","BOG - Bogot\xe1","LIM - Lima"],l=["Terminal 1","Terminal 2","Terminal 3","Terminal 4","Terminal 5","Terminal A","Terminal B","Terminal C","Terminal D","Terminal E","Terminal F","International Terminal","Domestic Terminal","North Terminal","South Terminal","East Terminal","West Terminal","Central Terminal","Main Terminal"],n=["Taxi","Uber","Lyft","Rental Car","Train","Subway/Metro","Bus","Shuttle","Private Car","Limousine","Ferry","Tram","Hotel Shuttle","Airport Shuttle"],i=["Marriott","Hilton","Hyatt","InterContinental (IHG)","Four Seasons","Ritz-Carlton","Westin","Sheraton","W Hotels","Waldorf Astoria","St. Regis","Fairmont","Sofitel","Radisson","Best Western","Holiday Inn","Courtyard","Hampton Inn","Residence Inn","DoubleTree","Embassy Suites","Crowne Plaza","Novotel","Ibis","Accor","Motel 6","Super 8","Days Inn","La Quinta","Comfort Inn","Quality Inn","Red Roof Inn","Extended Stay America","Homewood Suites","Staybridge Suites","Kimpton","Aloft","Element","Moxy","Ace Hotel","citizenM","YOTEL"]},70913:(e,t,s)=>{"use strict";s.d(t,{SettingsProvider:()=>o,V:()=>d,t:()=>c});var a=s(95155),r=s(12115);let l={temperatureUnit:"fahrenheit",distanceUnit:"miles",dateFormat:"mdy",timeFormat:"12h",defaultCurrency:"USD",firstDayOfWeek:"sunday",weatherForecastDays:5,mapDefaultZoom:12,compactMode:!1,showTripCountdown:!0,tripSortOrder:"date",defaultTripDuration:7,autoArchiveDays:0,defaultAirline:"",defaultHotelChain:"",homeAirport:""},n="foldr_settings",i=(0,r.createContext)(null);function o(e){let{children:t}=e,[s,o]=(0,r.useState)(l),[c,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{{let e=localStorage.getItem(n);if(e)try{let t=JSON.parse(e);o({...l,...t})}catch(e){}d(!0)}},[]),(0,r.useEffect)(()=>{c&&localStorage.setItem(n,JSON.stringify(s))},[s,c]),(0,a.jsx)(i.Provider,{value:{settings:s,updateSettings:e=>{o(t=>({...t,...e}))},formatTemperature:e=>{if("fahrenheit"===s.temperatureUnit){let t=Math.round(9*e/5+32);return"".concat(t,"\xb0F")}return"".concat(Math.round(e),"\xb0C")},formatDistance:e=>{if("miles"===s.distanceUnit){let t=.621371*e;return"".concat(t.toFixed(1)," mi")}return"".concat(e.toFixed(1)," km")},formatDate:e=>{if(!e)return"";let[t]=e.split("T"),[a,r,l]=t.split("-").map(Number),n=new Date(a,r-1,l);switch(s.dateFormat){case"dmy":return n.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});case"ymd":return n.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});default:return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}},formatTime:e=>{let t,a;if(!e)return"";if(e.includes("T")){let s=e.split("T")[1];[t,a]=s.split(":").map(Number)}else[t,a]=e.split(":").map(Number);if("24h"===s.timeFormat)return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"));let r=t>=12?"PM":"AM",l=t%12||12;return"".concat(l,":").concat(a.toString().padStart(2,"0")," ").concat(r)},exportData:()=>{let e=new Blob([JSON.stringify({version:"1.0",exportedAt:new Date().toISOString(),trips:localStorage.getItem("foldr_trips"),blocks:localStorage.getItem("foldr_blocks"),todos:localStorage.getItem("foldr_todos"),packingItems:localStorage.getItem("foldr_packing_items"),expenses:localStorage.getItem("foldr_expenses"),settings:localStorage.getItem("foldr_settings")},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="foldr-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},importData:e=>{try{let t=JSON.parse(e);if(t.trips&&localStorage.setItem("foldr_trips",t.trips),t.blocks&&localStorage.setItem("foldr_blocks",t.blocks),t.todos&&localStorage.setItem("foldr_todos",t.todos),t.packingItems&&localStorage.setItem("foldr_packing_items",t.packingItems),t.expenses&&localStorage.setItem("foldr_expenses",t.expenses),t.settings){localStorage.setItem("foldr_settings",t.settings);let e=JSON.parse(t.settings);o({...l,...e})}return!0}catch(e){return!1}},clearAllData:()=>{localStorage.removeItem("foldr_trips"),localStorage.removeItem("foldr_blocks"),localStorage.removeItem("foldr_todos"),localStorage.removeItem("foldr_packing_items"),localStorage.removeItem("foldr_expenses"),localStorage.removeItem("foldr_settings"),localStorage.removeItem("foldr_logged_in"),o(l)}},children:t})}function c(){let e=(0,r.useContext)(i);if(!e)throw Error("useSettings must be used within a SettingsProvider");return e}let d=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"\xa3",name:"British Pound"},{code:"JPY",symbol:"\xa5",name:"Japanese Yen"},{code:"CNY",symbol:"\xa5",name:"Chinese Yuan"},{code:"KRW",symbol:"₩",name:"South Korean Won"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"MXN",symbol:"MX$",name:"Mexican Peso"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"THB",symbol:"฿",name:"Thai Baht"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"}]},85014:(e,t,s)=>{"use strict";s.d(t,{a:()=>l});var a=s(95155),r=s(12115);function l(e){let{value:t,onChange:s,options:l,placeholder:n,required:i,className:o}=e,[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(l),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t?m(l.filter(e=>e.toLowerCase().includes(t.toLowerCase()))):m(l)},[t,l]),(0,r.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,a.jsxs)("div",{ref:h,className:"relative",children:[(0,a.jsx)("input",{type:"text",value:t,onChange:e=>{s(e.target.value),d(!0)},onFocus:()=>d(!0),placeholder:n,required:i,className:o,autoComplete:"off"}),c&&u.length>0&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-auto bg-slate-800 border border-slate-700 rounded-lg shadow-xl",children:u.map((e,t)=>(0,a.jsx)("button",{type:"button",onClick:()=>{s(e),d(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-slate-700 transition-colors first:rounded-t-lg last:rounded-b-lg",children:e},t))})]})}},96503:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(95155),r=s(12115),l=s(6874),n=s.n(l),i=s(35695),o=s(70913),c=s(46769),d=s(85014),u=s(33741);function m(){let e=(0,i.useRouter)(),{settings:t,updateSettings:s,exportData:l,importData:m,clearAllData:h}=(0,o.t)(),[x,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[j,b]=(0,r.useState)("idle"),v=(0,r.useRef)(null),[w,y]=(0,r.useState)(!1),[N,S]=(0,r.useState)(null),[C,k]=(0,r.useState)(null),[A,I]=(0,r.useState)(!1),[D,M]=(0,r.useState)(!1),[T,_]=(0,r.useState)(""),[L,B]=(0,r.useState)(""),[H,P]=(0,r.useState)(""),[F,E]=(0,r.useState)(!1),[O,R]=(0,r.useState)(null),[W,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y((0,u.M3)()),S((0,u.qo)()),k((0,u.tK)())},[]);let K=async()=>{I(!0),await (0,u.Vv)(),k((0,u.tK)()),I(!1)},V=async()=>{if(R(null),L!==H)return void R({type:"error",text:"New passwords do not match"});if(L.length<6)return void R({type:"error",text:"Password must be at least 6 characters"});U(!0);try{let e=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:N,currentPassword:T,newPassword:L})}),t=await e.json();t.success?(R({type:"success",text:"Password changed successfully!"}),_(""),B(""),P(""),setTimeout(()=>{M(!1),R(null)},2e3)):R({type:"error",text:t.error||"Failed to change password"})}catch(e){R({type:"error",text:"Network error"})}finally{U(!1)}},G=(e,t)=>{s({[e]:t}),p(!0),setTimeout(()=>p(!1),2e3)};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-950",children:[(0,a.jsx)("header",{className:"bg-slate-900 border-b border-slate-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n(),{href:"/trips",className:"text-slate-300 hover:text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M19 12H5m7-7-7 7 7 7"})}),"Back"]}),(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"Settings"}),(0,a.jsx)("div",{className:"w-16"})]})})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-2xl pb-24",children:[x&&(0,a.jsxs)("div",{className:"fixed top-20 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M5 13l4 4L19 7"})}),"Settings saved"]}),"idle"!==j&&(0,a.jsxs)("div",{className:"fixed top-20 right-4 ".concat("success"===j?"bg-green-600":"bg-red-600"," text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50"),children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:"success"===j?(0,a.jsx)("path",{d:"M5 13l4 4L19 7"}):(0,a.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})}),"success"===j?"Data imported!":"Import failed"]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 3a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"})}),"Account & Sync"]}),(0,a.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 divide-y divide-slate-700",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:N}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Signed in"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-green-400",children:"Connected"})]})]})}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Sync"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:C?"Last synced ".concat(new Date(C).toLocaleString()):"Not synced yet"})]}),(0,a.jsxs)("button",{onClick:K,disabled:A,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 ".concat(A?"animate-spin":""),fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 0 0 4.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 0 1-15.357-2m15.357 2H15"})}),A?"Syncing...":"Sync Now"]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Sign Out"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Your data stays on this device"})]}),(0,a.jsx)("button",{onClick:()=>{(0,u.ri)(),y(!1),S(null),e.push("/")},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Sign Out"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Change Password"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Update your account password"})]}),(0,a.jsx)("button",{onClick:()=>M(!D),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:D?"Cancel":"Change"})]}),D&&(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[O&&(0,a.jsx)("div",{className:"px-3 py-2 rounded-lg text-sm ".concat("success"===O.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:O.text}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:F?"text":"password",value:T,onChange:e=>_(e.target.value),placeholder:"Current password",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 pr-10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"button",onClick:()=>E(!F),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-300",children:F?(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,a.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(0,a.jsx)("input",{type:F?"text":"password",value:L,onChange:e=>B(e.target.value),placeholder:"New password",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("input",{type:F?"text":"password",value:H,onChange:e=>P(e.target.value),placeholder:"Confirm new password",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:V,disabled:W||!T||!L||!H,className:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:W?"Changing...":"Update Password"})]})]})]}):(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Not signed in"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Sign in to sync across devices"})]}),(0,a.jsx)(n(),{href:"/",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Sign In"})]})})})]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Units & Format"]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 divide-y divide-slate-700",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Temperature"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Weather display"})]}),(0,a.jsxs)("select",{value:t.temperatureUnit,onChange:e=>G("temperatureUnit",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"fahrenheit",children:"\xb0F Fahrenheit"}),(0,a.jsx)("option",{value:"celsius",children:"\xb0C Celsius"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Distance"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Miles or km"})]}),(0,a.jsxs)("select",{value:t.distanceUnit,onChange:e=>G("distanceUnit",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"miles",children:"Miles"}),(0,a.jsx)("option",{value:"kilometers",children:"Kilometers"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Date Format"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Display style"})]}),(0,a.jsxs)("select",{value:t.dateFormat,onChange:e=>G("dateFormat",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"mdy",children:"Dec 25, 2025"}),(0,a.jsx)("option",{value:"dmy",children:"25 Dec 2025"}),(0,a.jsx)("option",{value:"ymd",children:"2025/12/25"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Time Format"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Clock style"})]}),(0,a.jsxs)("select",{value:t.timeFormat,onChange:e=>G("timeFormat",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"12h",children:"12-hour (2:30 PM)"}),(0,a.jsx)("option",{value:"24h",children:"24-hour (14:30)"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Currency"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Default for expenses"})]}),(0,a.jsx)("select",{value:t.defaultCurrency,onChange:e=>G("defaultCurrency",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.V.map(e=>(0,a.jsxs)("option",{value:e.code,children:[e.symbol," ",e.code]},e.code))})]})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,a.jsx)("path",{d:"M3 9h18M9 21V9"})]}),"Display & Calendar"]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 divide-y divide-slate-700",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Week Starts"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Calendar first day"})]}),(0,a.jsxs)("select",{value:t.firstDayOfWeek,onChange:e=>G("firstDayOfWeek",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"sunday",children:"Sunday"}),(0,a.jsx)("option",{value:"monday",children:"Monday"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Weather Days"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Forecast length"})]}),(0,a.jsxs)("select",{value:t.weatherForecastDays,onChange:e=>G("weatherForecastDays",parseInt(e.target.value)),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:3,children:"3 days"}),(0,a.jsx)("option",{value:5,children:"5 days"}),(0,a.jsx)("option",{value:7,children:"7 days"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Map Zoom"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Default level"})]}),(0,a.jsxs)("select",{value:t.mapDefaultZoom,onChange:e=>G("mapDefaultZoom",parseInt(e.target.value)),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:10,children:"City view"}),(0,a.jsx)("option",{value:12,children:"Neighborhood"}),(0,a.jsx)("option",{value:14,children:"Street level"}),(0,a.jsx)("option",{value:16,children:"Close up"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Sort Trips"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"List order"})]}),(0,a.jsxs)("select",{value:t.tripSortOrder,onChange:e=>G("tripSortOrder",e.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"date",children:"By date"}),(0,a.jsx)("option",{value:"name",children:"By name"}),(0,a.jsx)("option",{value:"favorites",children:"Favorites first"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Countdown"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Days until trip"})]}),(0,a.jsx)("button",{onClick:()=>G("showTripCountdown",!t.showTripCountdown),className:"relative w-12 h-6 rounded-full transition-colors ".concat(t.showTripCountdown?"bg-blue-600":"bg-slate-600"),children:(0,a.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ".concat(t.showTripCountdown?"left-7":"left-1")})})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Compact Mode"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Denser layout"})]}),(0,a.jsx)("button",{onClick:()=>G("compactMode",!t.compactMode),className:"relative w-12 h-6 rounded-full transition-colors ".concat(t.compactMode?"bg-blue-600":"bg-slate-600"),children:(0,a.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ".concat(t.compactMode?"left-7":"left-1")})})]})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M21 16v-2l-8-5V3.5a1.5 1.5 0 0 0-3 0V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5Z"})}),"Trip Defaults"]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 divide-y divide-slate-700",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Trip Length"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Default duration"})]}),(0,a.jsxs)("select",{value:t.defaultTripDuration,onChange:e=>G("defaultTripDuration",parseInt(e.target.value)),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:3,children:"3 days"}),(0,a.jsx)("option",{value:5,children:"5 days"}),(0,a.jsx)("option",{value:7,children:"1 week"}),(0,a.jsx)("option",{value:10,children:"10 days"}),(0,a.jsx)("option",{value:14,children:"2 weeks"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Auto-Archive"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Hide past trips"})]}),(0,a.jsxs)("select",{value:t.autoArchiveDays,onChange:e=>G("autoArchiveDays",parseInt(e.target.value)),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:0,children:"Never"}),(0,a.jsx)("option",{value:7,children:"After 1 week"}),(0,a.jsx)("option",{value:30,children:"After 1 month"}),(0,a.jsx)("option",{value:90,children:"After 3 months"})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Default Airline"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Pre-fill flights"})]}),(0,a.jsx)(d.a,{value:t.defaultAirline,onChange:e=>G("defaultAirline",e),options:c.A6,placeholder:"Select airline...",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Default Hotel"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Pre-fill hotels"})]}),(0,a.jsx)(d.a,{value:t.defaultHotelChain,onChange:e=>G("defaultHotelChain",e),options:c.AH,placeholder:"Select hotel chain...",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Home Airport"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Your primary airport"})]}),(0,a.jsx)(d.a,{value:t.homeAirport,onChange:e=>G("homeAirport",e),options:c.tK,placeholder:"Select airport...",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white"})]})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"}),(0,a.jsx)("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),(0,a.jsx)("path",{d:"M3 15h6M6 12v6"})]}),"Data Management"]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 divide-y divide-slate-700",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Export Data"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Download backup"})]}),(0,a.jsxs)("button",{onClick:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})}),"Export"]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Import Data"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Restore backup"})]}),(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let a=new FileReader;a.onload=e=>{var t;let s=m(null==(t=e.target)?void 0:t.result);b(s?"success":"error"),setTimeout(()=>b("idle"),3e3),s&&window.location.reload()},a.readAsText(s)},ref:v,className:"hidden"}),(0,a.jsxs)("button",{onClick:()=>{var e;return null==(e=v.current)?void 0:e.click()},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),"Import"]})]}),(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Clear All Data"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Reset everything"})]}),(0,a.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),"Clear"]})]})]})]}),(0,a.jsx)("p",{className:"text-center text-slate-500 text-sm",children:"Settings save automatically"})]}),g&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 w-full max-w-sm shadow-xl border border-slate-700",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"bg-red-500/20 p-2 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Clear All Data?"})]}),(0,a.jsx)("p",{className:"text-slate-300 mb-2",children:"This will delete:"}),(0,a.jsxs)("ul",{className:"text-slate-400 text-sm mb-4 list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:"All trips and blocks"}),(0,a.jsx)("li",{children:"All to-dos and notes"}),(0,a.jsx)("li",{children:"All packing lists and expenses"}),(0,a.jsx)("li",{children:"All settings"})]}),(0,a.jsx)("p",{className:"text-red-400 text-sm mb-6 font-medium",children:"This cannot be undone!"}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{h(),f(!1),e.push("/")},className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Clear Everything"})]})]})})]})}},99389:(e,t,s)=>{Promise.resolve().then(s.bind(s,96503))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=99389)),_N_E=e.O()}]);