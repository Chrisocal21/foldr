(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{41186:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>r});var t=s(95155),a=s(12115),i=s(6874),n=s.n(i);function r(){let[e,l]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[r,c]=(0,a.useState)(null),[d,o]=(0,a.useState)("logos"),[x,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[p,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{l("true"===localStorage.getItem("foldr_logged_in"));let e=localStorage.getItem("foldr_uploads");e&&b(JSON.parse(e))},[]);let g=async()=>{if(s&&r){m(!0),h("");try{let e=await fetch("/api/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:s.name,data:r,folder:d})}),l=await e.json();if(e.ok){h("✅ Uploaded: ".concat(l.url));let e={name:l.filename,url:l.url,folder:d},s=[...p,e];b(s),localStorage.setItem("foldr_uploads",JSON.stringify(s)),i(null),c(null)}else h("❌ Error: ".concat(l.error))}catch(e){h("❌ Upload failed")}m(!1)}};return e?(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white p-4 pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)(n(),{href:"/",className:"text-zinc-400 hover:text-white text-2xl",children:"←"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Backend"}),(0,t.jsx)("p",{className:"text-zinc-500 text-sm",children:"Upload logos & images"})]})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800 mb-6",children:[(0,t.jsx)("h2",{className:"font-semibold text-zinc-300 mb-4",children:"Upload New Image"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-sm text-zinc-400 block mb-2",children:"Folder"}),(0,t.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-white",children:[(0,t.jsx)("option",{value:"logos",children:"Logos"}),(0,t.jsx)("option",{value:"icons",children:"Icons"}),(0,t.jsx)("option",{value:"backgrounds",children:"Backgrounds"}),(0,t.jsx)("option",{value:"screenshots",children:"Screenshots"}),(0,t.jsx)("option",{value:"general",children:"General"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-sm text-zinc-400 block mb-2",children:"Select Image"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var l;let s=null==(l=e.target.files)?void 0:l[0];if(s){i(s);let e=new FileReader;e.onloadend=()=>{c(e.result)},e.readAsDataURL(s)}},className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-white file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:bg-blue-600 file:text-white file:cursor-pointer"})]}),r&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-400 mb-2",children:"Preview"}),(0,t.jsx)("div",{className:"bg-zinc-800 rounded-lg p-4 flex items-center justify-center",children:(0,t.jsx)("img",{src:r,alt:"Preview",className:"max-h-48 max-w-full rounded"})})]}),(0,t.jsx)("button",{onClick:g,disabled:!s||x,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-700 disabled:text-zinc-500 text-white font-semibold py-3 rounded-lg transition-colors",children:x?"Uploading...":"Upload Image"}),u&&(0,t.jsx)("p",{className:"mt-3 text-sm text-center",children:u})]}),(0,t.jsxs)("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[(0,t.jsxs)("h2",{className:"font-semibold text-zinc-300 mb-4",children:["Uploaded Files (",p.length,")"]}),0===p.length?(0,t.jsx)("p",{className:"text-zinc-500 text-sm text-center py-4",children:"No files uploaded yet"}):(0,t.jsx)("div",{className:"space-y-3",children:p.map((e,l)=>(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center gap-3",children:[(0,t.jsx)("img",{src:e.url,alt:e.name,className:"w-12 h-12 object-cover rounded",onError:e=>{e.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23666"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>'}}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-white truncate",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:e.folder})]}),(0,t.jsx)("button",{onClick:()=>{var l;return l=e.url,void(navigator.clipboard.writeText(window.location.origin+l),h("\uD83D\uDCCB URL copied!"),setTimeout(()=>h(""),2e3))},className:"text-blue-400 hover:text-blue-300 p-2",title:"Copy URL",children:"\uD83D\uDCCB"}),(0,t.jsx)("button",{onClick:()=>(e=>{let l=p.filter((l,s)=>s!==e);b(l),localStorage.setItem("foldr_uploads",JSON.stringify(l))})(l),className:"text-red-400 hover:text-red-300 p-2",title:"Delete",children:"\uD83D\uDDD1️"})]},l))})]}),(0,t.jsx)("div",{className:"mt-6 bg-zinc-900/50 rounded-xl p-4 border border-zinc-800",children:(0,t.jsxs)("p",{className:"text-xs text-zinc-500",children:[(0,t.jsx)("strong",{className:"text-zinc-400",children:"Note:"})," Files are stored in ",(0,t.jsx)("code",{className:"bg-zinc-800 px-1 rounded",children:"public/uploads/"}),". On Vercel, uploads won't persist between deployments. For permanent storage, use a service like Cloudinary or AWS S3."]})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-zinc-400 mb-4",children:"Please log in first"}),(0,t.jsx)(n(),{href:"/",className:"text-blue-400 hover:underline",children:"Go to Home"})]})})}},81366:(e,l,s)=>{Promise.resolve().then(s.bind(s,41186))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=81366)),_N_E=e.O()}]);