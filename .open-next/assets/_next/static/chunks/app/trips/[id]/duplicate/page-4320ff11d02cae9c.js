(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},40858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(95155),r=s(12115),l=s(35695),n=s(6874),i=s.n(n),d=s(98319);function o(e){let{params:t}=e,{id:s}=(0,r.use)(t),n=(0,l.useRouter)(),[o,c]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)({name:"",startDate:"",endDate:""});return((0,r.useEffect)(()=>{let e=(0,d.UJ)(s);if(!e)return void n.push("/trips");c(e),m((0,d.si)(s)),h({name:"".concat(e.name," (Copy)"),startDate:"",endDate:""})},[s,n]),o)?(0,a.jsxs)("div",{className:"min-h-screen bg-slate-950",children:[(0,a.jsx)("header",{className:"bg-slate-900 border-b border-slate-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i(),{href:"/trips/".concat(s),className:"text-slate-300 hover:text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M19 12H5m7-7-7 7 7 7"})}),"Back"]}),(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"Duplicate Trip"}),(0,a.jsx)("div",{className:"w-16"})]})})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,a.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-white font-semibold mb-2",children:"Original Trip"}),(0,a.jsx)("p",{className:"text-slate-300",children:o.name}),(0,a.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:[u.length," block",1!==u.length?"s":""," will be copied"]})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o)return;let t=crypto.randomUUID(),s={id:t,name:x.name,startDate:x.startDate,endDate:x.endDate,color:o.color,status:(0,d._x)(x.startDate,x.endDate),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};(0,d.dz)(s),u.forEach(e=>{let s={...e,id:crypto.randomUUID(),tripId:t,date:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};(0,d.VQ)(s)}),n.push("/trips/".concat(t))},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-300 mb-2",children:"New Trip Name"}),(0,a.jsx)("input",{type:"text",id:"name",required:!0,value:x.name,onChange:e=>h({...x,name:e.target.value}),placeholder:"e.g., Tokyo Summer 2025",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-slate-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",id:"startDate",required:!0,value:x.startDate,onChange:e=>h({...x,startDate:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-slate-300 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",id:"endDate",required:!0,value:x.endDate,onChange:e=>h({...x,endDate:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-300",children:[(0,a.jsx)("strong",{children:"Note:"})," All blocks will be copied, but dates will be cleared so you can update them for the new trip."]})}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Duplicate Trip"})})]})]})]}):null}},48902:(e,t,s)=>{Promise.resolve().then(s.bind(s,40858))}},e=>{e.O(0,[874,319,441,964,358],()=>e(e.s=48902)),_N_E=e.O()}]);