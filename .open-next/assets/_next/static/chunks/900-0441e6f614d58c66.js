"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{45900:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(95155),r=s(12115),n=s(6874),i=s.n(n),o=s(98319);function a(e){let{tripId:t,tripName:s,hideLinks:n=[]}=e,[o,a]=(0,r.useState)(!1),[h,u]=(0,r.useState)(null),[m,b]=(0,r.useState)(!1),p=e=>{b(e)},g=()=>{u(null),b(!1)};return(0,l.jsxs)(l.Fragment,{children:[o&&(0,l.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>{a(!1),u(null),b(!1)}}),o&&"todos"===h&&(0,l.jsx)("div",{className:m?"":"fixed bottom-96 right-6 z-50",children:t&&s?(0,l.jsx)(d,{tripId:t,tripName:s,onClose:g,onFullscreenChange:p}):(0,l.jsx)(c,{onClose:g,onFullscreenChange:p})}),o&&"notes"===h&&(0,l.jsx)("div",{className:m?"":"fixed bottom-96 right-6 z-50",children:(0,l.jsx)(x,{onClose:g,onFullscreenChange:p})}),o&&!m&&(0,l.jsxs)("div",{className:"fixed bottom-24 right-6 z-50 flex flex-col gap-3 items-end",children:[(0,l.jsxs)("button",{onClick:()=>{u("todos"===h?null:"todos"),"todos"===h&&b(!1)},className:"flex items-center gap-2 ".concat("todos"===h?"bg-blue-600":"bg-zinc-800 hover:bg-zinc-700"," text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all"),children:[(0,l.jsx)("span",{className:"w-8 h-8 ".concat("todos"===h?"bg-blue-400":"bg-blue-500"," rounded-full flex items-center justify-center"),children:(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,l.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"})]})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"To-Do"})]}),(0,l.jsxs)("button",{onClick:()=>{u("notes"===h?null:"notes"),"notes"===h&&b(!1)},className:"flex items-center gap-2 ".concat("notes"===h?"bg-amber-600":"bg-zinc-800 hover:bg-zinc-700"," text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all"),children:[(0,l.jsx)("span",{className:"w-8 h-8 ".concat("notes"===h?"bg-amber-400":"bg-amber-500"," rounded-full flex items-center justify-center"),children:(0,l.jsx)("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Notes"})]}),!n.includes("build")&&(0,l.jsxs)(i(),{href:"/build",className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all",children:[(0,l.jsx)("span",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Build"})]}),!n.includes("roadmap")&&(0,l.jsxs)(i(),{href:"/roadmap",className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all",children:[(0,l.jsx)("span",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Roadmap"})]})]}),(0,l.jsx)("button",{onClick:()=>{o&&(u(null),b(!1)),a(!o)},className:"fixed bottom-6 right-6 w-14 h-14 ".concat(o?"bg-zinc-600 rotate-45":"bg-blue-500 hover:bg-blue-400"," text-white rounded-full shadow-lg flex items-center justify-center transition-all z-50"),title:"Menu",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]})}function c(e){let{onClose:t,onFullscreenChange:s}=e,[n,i]=(0,r.useState)([]),[a,c]=(0,r.useState)([]),[d,x]=(0,r.useState)(""),[h,u]=(0,r.useState)([]),[m,b]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[v,f]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),[N,z]=(0,r.useState)(""),[k,y]=(0,r.useState)(null),[C,D]=(0,r.useState)(!1),[M,S]=(0,r.useState)(null),[B,W]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[I,L]=(0,r.useState)(""),[A,H]=(0,r.useState)([]),[V,F]=(0,r.useState)("todo"),[_,P]=(0,r.useState)(""),O=[{name:"None",value:""},{name:"Blue",value:"#3b82f6"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Yellow",value:"#eab308"},{name:"Green",value:"#10b981"},{name:"Teal",value:"#14b8a6"}];(0,r.useEffect)(()=>{U()},[]);let U=(0,r.useCallback)(()=>{i((0,o.Gg)()),c((0,o.nH)())},[]),G=e=>{(0,o.Ys)(e),U()},Y=()=>{if(!d.trim())return;let e=new Date().toISOString(),t={id:crypto.randomUUID(),text:d.trim(),completed:!1,status:"todo",color:N||void 0,tripIds:h,dueDate:v||void 0,priority:j||void 0,createdAt:e,updatedAt:e};(0,o.Et)(t),x(""),u([]),b(!1),g(!1),f(""),w(""),z(""),U()},K=()=>{S(null),W(""),E(""),L(""),H([]),F("todo"),P("")},R=e=>{e.preventDefault()},Z={todo:[],"in-progress":[],done:[]};n.forEach(e=>{Z[e.status||(e.completed?"done":"todo")].push(e)});let q=e=>[...e].sort((e,t)=>{let s={high:0,medium:1,low:2},l=e.priority?s[e.priority]:3,r=t.priority?s[t.priority]:3;return l!==r?l-r:e.dueDate&&t.dueDate?e.dueDate.localeCompare(t.dueDate):e.dueDate?-1:+!!t.dueDate}),J={todo:q(Z.todo),"in-progress":q(Z["in-progress"]),done:q(Z.done)},Q=J.todo.length+J["in-progress"].length;return(0,l.jsxs)(l.Fragment,{children:[M&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",onClick:K,children:(0,l.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-md shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700 rounded-t-xl",children:[(0,l.jsx)("h3",{className:"font-semibold text-white",children:"Edit Task"}),(0,l.jsx)("button",{onClick:K,className:"text-zinc-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Task"}),(0,l.jsx)("textarea",{value:B,onChange:e=>W(e.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500 resize-none",rows:3,autoFocus:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Status"}),(0,l.jsx)("div",{className:"flex gap-2",children:["todo","in-progress","done"].map(e=>(0,l.jsx)("button",{onClick:()=>F(e),className:"flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-colors ".concat(V===e?"todo"===e?"bg-zinc-600 text-white":"in-progress"===e?"bg-blue-600 text-white":"bg-green-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),children:"todo"===e?"○ To Do":"in-progress"===e?"◐ Doing":"● Done"},e))})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Due Date"}),(0,l.jsx)("input",{type:"date",value:T,onChange:e=>E(e.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Priority"}),(0,l.jsxs)("select",{value:I,onChange:e=>L(e.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,l.jsx)("option",{value:"",children:"None"}),(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"high",children:"High"})]})]})]}),a.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Trip Tags"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,l.jsx)("button",{onClick:()=>{var t;return t=e.id,void H(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"text-xs px-2 py-1 rounded-full transition-colors ".concat(A.includes(e.id)?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"),children:e.name},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Color Tag"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>P(""),className:"w-7 h-7 rounded-full border-2 transition-all flex items-center justify-center ".concat(_?"border-zinc-600 hover:border-zinc-400":"border-white scale-110"),style:{backgroundColor:"#3f3f46"},title:"No color",children:!_&&(0,l.jsx)("span",{className:"text-white text-xs",children:"✕"})}),O.map(e=>(0,l.jsx)("button",{onClick:()=>P(e.value),className:"w-7 h-7 rounded-full border-2 transition-all ".concat(_===e.value?"border-white scale-110":"border-transparent hover:scale-105"),style:{backgroundColor:e.value||"#3f3f46"},title:e.name},e.value||"none"))]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 px-4 py-3 bg-zinc-800 border-t border-zinc-700 rounded-b-xl",children:[(0,l.jsx)("button",{onClick:()=>{G(M.id),K()},className:"px-4 py-2 text-red-400 hover:bg-red-500/20 rounded-lg text-sm transition-colors",children:"Delete"}),(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsx)("button",{onClick:K,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg text-sm transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{if(!M||!B.trim())return;let e={...M,text:B.trim(),color:_||void 0,dueDate:T||void 0,priority:I||void 0,tripIds:A,status:V,completed:"done"===V,updatedAt:new Date().toISOString()};(0,o.Et)(e),K(),U()},disabled:!B.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg text-sm transition-colors",children:"Save"})]})]})}),(0,l.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ".concat(C?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-[560px] max-w-[calc(100vw-3rem)] max-h-[calc(100vh-26rem)] rounded-xl"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,l.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-blue-400",children:"☰"})," Task Board",Q>0&&(0,l.jsxs)("span",{className:"text-xs bg-blue-600 px-2 py-0.5 rounded-full",children:[Q," active"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{let e=!C;D(e),s(e)},className:"text-zinc-400 hover:text-white",title:C?"Exit fullscreen":"Expand fullscreen",children:C?(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,l.jsx)("button",{onClick:t,className:"text-zinc-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,l.jsxs)("div",{className:"p-3 border-b border-zinc-700",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&Y(),placeholder:"Add a task...",className:"flex-1 bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500"}),(0,l.jsx)("button",{onClick:()=>g(!p),className:"px-3 py-2 rounded-lg border transition-colors ".concat(v||j||N?"bg-purple-600 border-purple-500 text-white":"bg-zinc-800 border-zinc-600 text-zinc-400 hover:text-white"),title:"Due date, Priority & Color",children:(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),(0,l.jsx)("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),(0,l.jsx)("button",{onClick:()=>b(!m),className:"px-3 py-2 rounded-lg border transition-colors ".concat(h.length>0?"bg-blue-600 border-blue-500 text-white":"bg-zinc-800 border-zinc-600 text-zinc-400 hover:text-white"),title:"Tag to trips",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M7 7h.01M7 3h5a1.99 1.99 0 0 1 1.41.59l7 7a2 2 0 0 1 0 2.82l-5 5a2 2 0 0 1-2.82 0l-7-7A2 2 0 0 1 5 10V5a2 2 0 0 1 2-2Z"})})}),(0,l.jsx)("button",{onClick:Y,disabled:!d.trim(),className:"bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white px-3 py-2 rounded-lg transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]}),p&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 p-2 bg-zinc-800 rounded-lg border border-zinc-700",children:[(0,l.jsxs)("div",{className:"w-full flex gap-2",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Due Date"}),(0,l.jsx)("input",{type:"date",value:v,onChange:e=>f(e.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Priority"}),(0,l.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,l.jsx)("option",{value:"",children:"None"}),(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Color Tag"}),(0,l.jsx)("div",{className:"flex gap-1.5 flex-wrap",children:O.map(e=>(0,l.jsx)("button",{onClick:()=>z(e.value),className:"w-6 h-6 rounded-full border-2 transition-all ".concat(N===e.value?"scale-110 border-white":"border-transparent hover:scale-105"),style:{backgroundColor:e.value||"#3f3f46"},title:e.name},e.value||"none"))})]})]}),m&&a.length>0&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 p-2 bg-zinc-800 rounded-lg border border-zinc-700",children:[(0,l.jsx)("span",{className:"text-zinc-500 text-xs w-full mb-1",children:"Tag to trips:"}),a.map(e=>(0,l.jsx)("button",{onClick:()=>{var t;return t=e.id,void u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"text-xs px-2 py-1 rounded-full transition-colors ".concat(h.includes(e.id)?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"),children:e.name},e.id))]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-x-auto p-3",children:(0,l.jsx)("div",{className:"flex gap-3 min-h-[180px] h-full",children:[{key:"todo",label:"To Do",icon:"○",color:"text-zinc-400"},{key:"in-progress",label:"Doing",icon:"◐",color:"text-blue-400"},{key:"done",label:"Done",icon:"●",color:"text-green-400"}].map(e=>(0,l.jsxs)("div",{className:"flex-1 min-w-[140px] flex flex-col",onDragOver:R,onDrop:t=>{var s;return s=e.key,void(t.preventDefault(),k&&(((e,t)=>{let s=n.find(t=>t.id===e);if(!s)return;let l={...s,status:t,completed:"done"===t,updatedAt:new Date().toISOString()};(0,o.Et)(l),U()})(k,s),y(null)))},children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-zinc-700",children:[(0,l.jsx)("span",{className:e.color,children:e.icon}),(0,l.jsx)("span",{className:"text-xs font-medium text-zinc-300",children:e.label}),(0,l.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",J[e.key].length,")"]})]}),(0,l.jsx)("div",{className:"flex-1 space-y-2 overflow-y-auto min-h-[100px] p-1 rounded-lg transition-colors ".concat(k?"bg-zinc-800/50 border border-dashed border-zinc-600":""),children:0===J[e.key].length?(0,l.jsx)("div",{className:"text-center py-4 text-zinc-600 text-xs",children:"todo"===e.key?"No tasks":"in-progress"===e.key?"Drag here":"Completed"}):J[e.key].map(e=>(0,l.jsx)("div",{draggable:!0,onDragStart:()=>{y(e.id)},onClick:()=>{S(e),W(e.text),E(e.dueDate||""),L(e.priority||""),H(e.tripIds||[]),F(e.status||(e.completed?"done":"todo")),P(e.color||"")},className:"group rounded-lg p-3 cursor-pointer active:cursor-grabbing transition-all hover:bg-zinc-700 ".concat(k===e.id?"opacity-50":""),style:{backgroundColor:e.color?"".concat(e.color,"15"):"#27272a",border:e.color?"2px solid ".concat(e.color):"2px solid transparent",borderLeftWidth:"4px",borderLeftColor:e.color||(e.priority?"high"===e.priority?"#ef4444":"medium"===e.priority?"#eab308":"#10b981":"#52525b")},children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm leading-snug ".concat("done"===e.status?"text-zinc-500 line-through":"text-white"),children:e.text}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5 mt-2",children:[e.priority&&!e.color&&(0,l.jsx)("span",{className:"w-2 h-2 rounded-full ".concat((e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500"}})(e.priority))}),e.dueDate&&(0,l.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat((e=>{let[t,s,l]=e.split("-").map(Number),r=new Date(t,s-1,l),n=new Date;return(n.setHours(0,0,0,0),r<n)?"text-red-400 bg-red-500/20":r.getTime()===n.getTime()?"text-orange-400 bg-orange-500/20":"text-zinc-400 bg-zinc-700"})(e.dueDate)),children:(e=>{let[t,s,l]=e.split("-").map(Number),r=new Date(t,s-1,l),n=new Date;n.setHours(0,0,0,0);let i=new Date(n);return(i.setDate(i.getDate()+1),r.getTime()===n.getTime())?"Today":r.getTime()===i.getTime()?"Tmrw":r<n?"Late":r.toLocaleDateString("en-US",{month:"short",day:"numeric"})})(e.dueDate)}),e.tripIds.length>0&&(0,l.jsxs)("span",{className:"text-xs text-blue-400",children:["\uD83D\uDCCD",e.tripIds.length]})]})]}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),G(e.id)},className:"text-zinc-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})]},e.key))})}),(0,l.jsxs)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500 flex justify-between",children:[(0,l.jsx)("span",{children:"Tap to edit \xb7 Drag to move"}),(0,l.jsxs)("span",{children:[n.length," total"]})]})]})]})}function d(e){let{tripId:t,tripName:s,onClose:n,onFullscreenChange:i}=e,[a,c]=(0,r.useState)([]),[d,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c((0,o.Gg)().filter(e=>e.tripIds.includes(t)))},[t]);let m=(0,r.useCallback)(()=>{c((0,o.Gg)().filter(e=>e.tripIds.includes(t)))},[t]),b=e=>{(0,o.TV)(e),m()},p=e=>{(0,o.Ys)(e),m()},g=()=>{if(!d.trim())return;let e=new Date().toISOString(),s={id:crypto.randomUUID(),text:d.trim(),completed:!1,tripIds:[t],createdAt:e,updatedAt:e};(0,o.Et)(s),x(""),m()},v=a.filter(e=>!e.completed),f=a.filter(e=>e.completed);return(0,l.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ".concat(h?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-80 max-h-[calc(100vh-26rem)] rounded-xl"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,l.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-blue-400",children:"✓"})," To-Do"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{let e=!h;u(e),i(e)},className:"text-zinc-400 hover:text-white",title:h?"Exit fullscreen":"Expand fullscreen",children:h?(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,l.jsx)("button",{onClick:n,className:"text-zinc-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,l.jsx)("div",{className:"p-3 border-b border-zinc-700",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),placeholder:"Add a task...",className:"flex-1 bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500"}),(0,l.jsx)("button",{onClick:g,disabled:!d.trim(),className:"bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white px-3 py-2 rounded-lg transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:0===a.length?(0,l.jsx)("div",{className:"text-center py-8 text-zinc-500",children:(0,l.jsx)("p",{className:"text-sm",children:"No tasks yet"})}):(0,l.jsxs)(l.Fragment,{children:[v.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-2 bg-zinc-800 rounded-lg px-3 py-2 border border-zinc-700",children:[(0,l.jsx)("button",{onClick:()=>b(e.id),className:"text-zinc-400 hover:text-green-400 shrink-0",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}),(0,l.jsx)("span",{className:"flex-1 text-white text-sm",children:e.text}),(0,l.jsx)("button",{onClick:()=>p(e.id),className:"text-zinc-500 hover:text-red-400 shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]},e.id)),f.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide pt-2",children:"Completed"}),f.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-2 bg-zinc-800/50 rounded-lg px-3 py-2 border border-zinc-700/50 opacity-60",children:[(0,l.jsx)("button",{onClick:()=>b(e.id),className:"text-green-400 shrink-0",children:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"})]})}),(0,l.jsx)("span",{className:"flex-1 text-zinc-400 text-sm line-through",children:e.text}),(0,l.jsx)("button",{onClick:()=>p(e.id),className:"text-zinc-500 hover:text-red-400 shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]},e.id))]})]})}),(0,l.jsx)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500 truncate",children:s})]})}function x(e){let{onClose:t,onFullscreenChange:s}=e,[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);return(0,r.useState)(()=>{{let e=localStorage.getItem("foldr_dev_notes");e&&i(e)}}),(0,l.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ".concat(o?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-80 max-h-[calc(100vh-26rem)] rounded-xl"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,l.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-amber-400",children:"\uD83D\uDCDD"})," Dev Notes"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{let e=!o;a(e),s(e)},className:"text-zinc-400 hover:text-white",title:o?"Exit fullscreen":"Expand fullscreen",children:o?(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,l.jsx)("button",{onClick:t,className:"text-zinc-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,l.jsx)("textarea",{value:n,onChange:e=>{var t;i(t=e.target.value),localStorage.setItem("foldr_dev_notes",t)},placeholder:"Add notes for build & roadmap...",className:"flex-1 p-4 bg-zinc-900 text-white text-sm resize-none focus:outline-none placeholder-zinc-600 overflow-y-auto",style:{minHeight:o?"100%":"200px"}}),(0,l.jsx)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500",children:"Auto-saved \xb7 Shared across app"})]})}}}]);