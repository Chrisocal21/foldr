"use strict";exports.id=184,exports.ids=[184],exports.modules={73184:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(60687),e=c(43210),f=c(85814),g=c.n(f),h=c(7237);function i({tripId:a,tripName:b,hideLinks:c=[]}){let[f,h]=(0,e.useState)(!1),[i,m]=(0,e.useState)(null),[n,o]=(0,e.useState)(!1),p=a=>{o(a)},q=()=>{m(null),o(!1)};return(0,d.jsxs)(d.Fragment,{children:[f&&(0,d.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>{h(!1),m(null),o(!1)}}),f&&"todos"===i&&(0,d.jsx)("div",{className:n?"":"fixed bottom-96 right-6 z-50",children:a&&b?(0,d.jsx)(k,{tripId:a,tripName:b,onClose:q,onFullscreenChange:p}):(0,d.jsx)(j,{onClose:q,onFullscreenChange:p})}),f&&"notes"===i&&(0,d.jsx)("div",{className:n?"":"fixed bottom-96 right-6 z-50",children:(0,d.jsx)(l,{onClose:q,onFullscreenChange:p})}),f&&!n&&(0,d.jsxs)("div",{className:"fixed bottom-24 right-6 z-50 flex flex-col gap-3 items-end",children:[(0,d.jsxs)("button",{onClick:()=>{m("todos"===i?null:"todos"),"todos"===i&&o(!1)},className:`flex items-center gap-2 ${"todos"===i?"bg-blue-600":"bg-zinc-800 hover:bg-zinc-700"} text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all`,children:[(0,d.jsx)("span",{className:`w-8 h-8 ${"todos"===i?"bg-blue-400":"bg-blue-500"} rounded-full flex items-center justify-center`,children:(0,d.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,d.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"})]})}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"To-Do"})]}),(0,d.jsxs)("button",{onClick:()=>{m("notes"===i?null:"notes"),"notes"===i&&o(!1)},className:`flex items-center gap-2 ${"notes"===i?"bg-amber-600":"bg-zinc-800 hover:bg-zinc-700"} text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all`,children:[(0,d.jsx)("span",{className:`w-8 h-8 ${"notes"===i?"bg-amber-400":"bg-amber-500"} rounded-full flex items-center justify-center`,children:(0,d.jsx)("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Notes"})]}),!c.includes("build")&&(0,d.jsxs)(g(),{href:"/build",className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all",children:[(0,d.jsx)("span",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Build"})]}),!c.includes("roadmap")&&(0,d.jsxs)(g(),{href:"/roadmap",className:"flex items-center gap-2 bg-zinc-800 hover:bg-zinc-700 text-white pl-3 pr-4 py-2 rounded-full shadow-lg transition-all",children:[(0,d.jsx)("span",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Roadmap"})]})]}),(0,d.jsx)("button",{onClick:()=>{f&&(m(null),o(!1)),h(!f)},className:`fixed bottom-6 right-6 w-14 h-14 ${f?"bg-zinc-600 rotate-45":"bg-blue-500 hover:bg-blue-400"} text-white rounded-full shadow-lg flex items-center justify-center transition-all z-50`,title:"Menu",children:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]})}function j({onClose:a,onFullscreenChange:b}){let[c,f]=(0,e.useState)([]),[g,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)([]),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)(""),[H,I]=(0,e.useState)(""),[J,K]=(0,e.useState)([]),[L,M]=(0,e.useState)("todo"),[N,O]=(0,e.useState)(""),P=[{name:"None",value:""},{name:"Blue",value:"#3b82f6"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Yellow",value:"#eab308"},{name:"Green",value:"#10b981"},{name:"Teal",value:"#14b8a6"}],Q=(0,e.useCallback)(()=>{f((0,h.Gg)()),i((0,h.nH)())},[]),R=a=>{(0,h.Ys)(a),Q()},S=()=>{if(!j.trim())return;let a=new Date().toISOString(),b={id:crypto.randomUUID(),text:j.trim(),completed:!1,status:"todo",color:v||void 0,tripIds:l,dueDate:r||void 0,priority:t||void 0,createdAt:a,updatedAt:a};(0,h.Et)(b),k(""),m([]),o(!1),q(!1),s(""),u(""),w(""),Q()},T=()=>{C(null),E(""),G(""),I(""),K([]),M("todo"),O("")},U=a=>{a.preventDefault()},V={todo:[],"in-progress":[],done:[]};c.forEach(a=>{V[a.status||(a.completed?"done":"todo")].push(a)});let W=a=>[...a].sort((a,b)=>{let c={high:0,medium:1,low:2},d=a.priority?c[a.priority]:3,e=b.priority?c[b.priority]:3;return d!==e?d-e:a.dueDate&&b.dueDate?a.dueDate.localeCompare(b.dueDate):a.dueDate?-1:+!!b.dueDate}),X={todo:W(V.todo),"in-progress":W(V["in-progress"]),done:W(V.done)},Y=X.todo.length+X["in-progress"].length;return(0,d.jsxs)(d.Fragment,{children:[B&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",onClick:T,children:(0,d.jsxs)("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-md shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700 rounded-t-xl",children:[(0,d.jsx)("h3",{className:"font-semibold text-white",children:"Edit Task"}),(0,d.jsx)("button",{onClick:T,className:"text-zinc-400 hover:text-white",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,d.jsxs)("div",{className:"p-4 space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Task"}),(0,d.jsx)("textarea",{value:D,onChange:a=>E(a.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500 resize-none",rows:3,autoFocus:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Status"}),(0,d.jsx)("div",{className:"flex gap-2",children:["todo","in-progress","done"].map(a=>(0,d.jsx)("button",{onClick:()=>M(a),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-colors ${L===a?"todo"===a?"bg-zinc-600 text-white":"in-progress"===a?"bg-blue-600 text-white":"bg-green-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:"todo"===a?"○ To Do":"in-progress"===a?"◐ Doing":"● Done"},a))})]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Due Date"}),(0,d.jsx)("input",{type:"date",value:F,onChange:a=>G(a.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Priority"}),(0,d.jsxs)("select",{value:H,onChange:a=>I(a.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,d.jsx)("option",{value:"",children:"None"}),(0,d.jsx)("option",{value:"low",children:"Low"}),(0,d.jsx)("option",{value:"medium",children:"Medium"}),(0,d.jsx)("option",{value:"high",children:"High"})]})]})]}),g.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Trip Tags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(a=>(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void K(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`text-xs px-2 py-1 rounded-full transition-colors ${J.includes(a.id)?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:a.name},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-zinc-400 text-xs block mb-1",children:"Color Tag"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsx)("button",{onClick:()=>O(""),className:`w-7 h-7 rounded-full border-2 transition-all flex items-center justify-center ${!N?"border-white scale-110":"border-zinc-600 hover:border-zinc-400"}`,style:{backgroundColor:"#3f3f46"},title:"No color",children:!N&&(0,d.jsx)("span",{className:"text-white text-xs",children:"✕"})}),P.map(a=>(0,d.jsx)("button",{onClick:()=>O(a.value),className:`w-7 h-7 rounded-full border-2 transition-all ${N===a.value?"border-white scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:a.value||"#3f3f46"},title:a.name},a.value||"none"))]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 px-4 py-3 bg-zinc-800 border-t border-zinc-700 rounded-b-xl",children:[(0,d.jsx)("button",{onClick:()=>{R(B.id),T()},className:"px-4 py-2 text-red-400 hover:bg-red-500/20 rounded-lg text-sm transition-colors",children:"Delete"}),(0,d.jsx)("div",{className:"flex-1"}),(0,d.jsx)("button",{onClick:T,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg text-sm transition-colors",children:"Cancel"}),(0,d.jsx)("button",{onClick:()=>{if(!B||!D.trim())return;let a={...B,text:D.trim(),color:N||void 0,dueDate:F||void 0,priority:H||void 0,tripIds:J,status:L,completed:"done"===L,updatedAt:new Date().toISOString()};(0,h.Et)(a),T(),Q()},disabled:!D.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg text-sm transition-colors",children:"Save"})]})]})}),(0,d.jsxs)("div",{className:`bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ${z?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-[560px] max-w-[calc(100vw-3rem)] max-h-[calc(100vh-26rem)] rounded-xl"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,d.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-blue-400",children:"☰"})," Task Board",Y>0&&(0,d.jsxs)("span",{className:"text-xs bg-blue-600 px-2 py-0.5 rounded-full",children:[Y," active"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{let a=!z;A(a),b(a)},className:"text-zinc-400 hover:text-white",title:z?"Exit fullscreen":"Expand fullscreen",children:z?(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,d.jsx)("button",{onClick:a,className:"text-zinc-400 hover:text-white",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,d.jsxs)("div",{className:"p-3 border-b border-zinc-700",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),onKeyDown:a=>"Enter"===a.key&&S(),placeholder:"Add a task...",className:"flex-1 bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500"}),(0,d.jsx)("button",{onClick:()=>q(!p),className:`px-3 py-2 rounded-lg border transition-colors ${r||t||v?"bg-purple-600 border-purple-500 text-white":"bg-zinc-800 border-zinc-600 text-zinc-400 hover:text-white"}`,title:"Due date, Priority & Color",children:(0,d.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,d.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),(0,d.jsx)("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),(0,d.jsx)("button",{onClick:()=>o(!n),className:`px-3 py-2 rounded-lg border transition-colors ${l.length>0?"bg-blue-600 border-blue-500 text-white":"bg-zinc-800 border-zinc-600 text-zinc-400 hover:text-white"}`,title:"Tag to trips",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M7 7h.01M7 3h5a1.99 1.99 0 0 1 1.41.59l7 7a2 2 0 0 1 0 2.82l-5 5a2 2 0 0 1-2.82 0l-7-7A2 2 0 0 1 5 10V5a2 2 0 0 1 2-2Z"})})}),(0,d.jsx)("button",{onClick:S,disabled:!j.trim(),className:"bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white px-3 py-2 rounded-lg transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]}),p&&(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 p-2 bg-zinc-800 rounded-lg border border-zinc-700",children:[(0,d.jsxs)("div",{className:"w-full flex gap-2",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Due Date"}),(0,d.jsx)("input",{type:"date",value:r,onChange:a=>s(a.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Priority"}),(0,d.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,d.jsx)("option",{value:"",children:"None"}),(0,d.jsx)("option",{value:"low",children:"Low"}),(0,d.jsx)("option",{value:"medium",children:"Medium"}),(0,d.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("label",{className:"text-zinc-500 text-xs block mb-1",children:"Color Tag"}),(0,d.jsx)("div",{className:"flex gap-1.5 flex-wrap",children:P.map(a=>(0,d.jsx)("button",{onClick:()=>w(a.value),className:`w-6 h-6 rounded-full border-2 transition-all ${v===a.value?"scale-110 border-white":"border-transparent hover:scale-105"}`,style:{backgroundColor:a.value||"#3f3f46"},title:a.name},a.value||"none"))})]})]}),n&&g.length>0&&(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 p-2 bg-zinc-800 rounded-lg border border-zinc-700",children:[(0,d.jsx)("span",{className:"text-zinc-500 text-xs w-full mb-1",children:"Tag to trips:"}),g.map(a=>(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void m(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`text-xs px-2 py-1 rounded-full transition-colors ${l.includes(a.id)?"bg-blue-600 text-white":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:a.name},a.id))]})]}),(0,d.jsx)("div",{className:"flex-1 overflow-x-auto p-3",children:(0,d.jsx)("div",{className:"flex gap-3 min-h-[180px] h-full",children:[{key:"todo",label:"To Do",icon:"○",color:"text-zinc-400"},{key:"in-progress",label:"Doing",icon:"◐",color:"text-blue-400"},{key:"done",label:"Done",icon:"●",color:"text-green-400"}].map(a=>(0,d.jsxs)("div",{className:"flex-1 min-w-[140px] flex flex-col",onDragOver:U,onDrop:b=>{var d;return d=a.key,void(b.preventDefault(),x&&(((a,b)=>{let d=c.find(b=>b.id===a);if(!d)return;let e={...d,status:b,completed:"done"===b,updatedAt:new Date().toISOString()};(0,h.Et)(e),Q()})(x,d),y(null)))},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-zinc-700",children:[(0,d.jsx)("span",{className:a.color,children:a.icon}),(0,d.jsx)("span",{className:"text-xs font-medium text-zinc-300",children:a.label}),(0,d.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",X[a.key].length,")"]})]}),(0,d.jsx)("div",{className:`flex-1 space-y-2 overflow-y-auto min-h-[100px] p-1 rounded-lg transition-colors ${x?"bg-zinc-800/50 border border-dashed border-zinc-600":""}`,children:0===X[a.key].length?(0,d.jsx)("div",{className:"text-center py-4 text-zinc-600 text-xs",children:"todo"===a.key?"No tasks":"in-progress"===a.key?"Drag here":"Completed"}):X[a.key].map(a=>(0,d.jsx)("div",{draggable:!0,onDragStart:()=>{y(a.id)},onClick:()=>{C(a),E(a.text),G(a.dueDate||""),I(a.priority||""),K(a.tripIds||[]),M(a.status||(a.completed?"done":"todo")),O(a.color||"")},className:`group rounded-lg p-3 cursor-pointer active:cursor-grabbing transition-all hover:bg-zinc-700 ${x===a.id?"opacity-50":""}`,style:{backgroundColor:a.color?`${a.color}15`:"#27272a",border:a.color?`2px solid ${a.color}`:"2px solid transparent",borderLeftWidth:"4px",borderLeftColor:a.color||(a.priority?"high"===a.priority?"#ef4444":"medium"===a.priority?"#eab308":"#10b981":"#52525b")},children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:`text-sm leading-snug ${"done"===a.status?"text-zinc-500 line-through":"text-white"}`,children:a.text}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-1.5 mt-2",children:[a.priority&&!a.color&&(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${(a=>{switch(a){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500"}})(a.priority)}`}),a.dueDate&&(0,d.jsx)("span",{className:`text-xs px-1.5 py-0.5 rounded ${(a=>{let[b,c,d]=a.split("-").map(Number),e=new Date(b,c-1,d),f=new Date;return(f.setHours(0,0,0,0),e<f)?"text-red-400 bg-red-500/20":e.getTime()===f.getTime()?"text-orange-400 bg-orange-500/20":"text-zinc-400 bg-zinc-700"})(a.dueDate)}`,children:(a=>{let[b,c,d]=a.split("-").map(Number),e=new Date(b,c-1,d),f=new Date;f.setHours(0,0,0,0);let g=new Date(f);return(g.setDate(g.getDate()+1),e.getTime()===f.getTime())?"Today":e.getTime()===g.getTime()?"Tmrw":e<f?"Late":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})})(a.dueDate)}),a.tripIds.length>0&&(0,d.jsxs)("span",{className:"text-xs text-blue-400",children:["\uD83D\uDCCD",a.tripIds.length]})]})]}),(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),R(a.id)},className:"text-zinc-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},a.id))})]},a.key))})}),(0,d.jsxs)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500 flex justify-between",children:[(0,d.jsx)("span",{children:"Tap to edit \xb7 Drag to move"}),(0,d.jsxs)("span",{children:[c.length," total"]})]})]})]})}function k({tripId:a,tripName:b,onClose:c,onFullscreenChange:f}){let[g,i]=(0,e.useState)([]),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(!1),n=(0,e.useCallback)(()=>{i((0,h.Gg)().filter(b=>b.tripIds.includes(a)))},[a]),o=a=>{(0,h.TV)(a),n()},p=a=>{(0,h.Ys)(a),n()},q=()=>{if(!j.trim())return;let b=new Date().toISOString(),c={id:crypto.randomUUID(),text:j.trim(),completed:!1,tripIds:[a],createdAt:b,updatedAt:b};(0,h.Et)(c),k(""),n()},r=g.filter(a=>!a.completed),s=g.filter(a=>a.completed);return(0,d.jsxs)("div",{className:`bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ${l?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-80 max-h-[calc(100vh-26rem)] rounded-xl"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,d.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-blue-400",children:"✓"})," To-Do"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{let a=!l;m(a),f(a)},className:"text-zinc-400 hover:text-white",title:l?"Exit fullscreen":"Expand fullscreen",children:l?(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,d.jsx)("button",{onClick:c,className:"text-zinc-400 hover:text-white",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,d.jsx)("div",{className:"p-3 border-b border-zinc-700",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),onKeyDown:a=>"Enter"===a.key&&q(),placeholder:"Add a task...",className:"flex-1 bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-2 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-blue-500"}),(0,d.jsx)("button",{onClick:q,disabled:!j.trim(),className:"bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-white px-3 py-2 rounded-lg transition-colors",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M12 5v14m-7-7h14"})})})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:0===g.length?(0,d.jsx)("div",{className:"text-center py-8 text-zinc-500",children:(0,d.jsx)("p",{className:"text-sm",children:"No tasks yet"})}):(0,d.jsxs)(d.Fragment,{children:[r.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-zinc-800 rounded-lg px-3 py-2 border border-zinc-700",children:[(0,d.jsx)("button",{onClick:()=>o(a.id),className:"text-zinc-400 hover:text-green-400 shrink-0",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}),(0,d.jsx)("span",{className:"flex-1 text-white text-sm",children:a.text}),(0,d.jsx)("button",{onClick:()=>p(a.id),className:"text-zinc-500 hover:text-red-400 shrink-0",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]},a.id)),s.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"text-xs text-zinc-500 uppercase tracking-wide pt-2",children:"Completed"}),s.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-zinc-800/50 rounded-lg px-3 py-2 border border-zinc-700/50 opacity-60",children:[(0,d.jsx)("button",{onClick:()=>o(a.id),className:"text-green-400 shrink-0",children:(0,d.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10"})]})}),(0,d.jsx)("span",{className:"flex-1 text-zinc-400 text-sm line-through",children:a.text}),(0,d.jsx)("button",{onClick:()=>p(a.id),className:"text-zinc-500 hover:text-red-400 shrink-0",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]},a.id))]})]})}),(0,d.jsx)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500 truncate",children:b})]})}function l({onClose:a,onFullscreenChange:b}){let[c,f]=(0,e.useState)(""),[g,h]=(0,e.useState)(!1);return(0,e.useState)(()=>{}),(0,d.jsxs)("div",{className:`bg-zinc-900 border border-zinc-700 shadow-2xl flex flex-col overflow-hidden transition-all duration-200 ${g?"fixed top-20 bottom-4 left-4 right-4 z-[60] rounded-2xl":"w-80 max-h-[calc(100vh-26rem)] rounded-xl"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-800 border-b border-zinc-700",children:[(0,d.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-amber-400",children:"\uD83D\uDCDD"})," Dev Notes"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{let a=!g;h(a),b(a)},className:"text-zinc-400 hover:text-white",title:g?"Exit fullscreen":"Expand fullscreen",children:g?(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})}),(0,d.jsx)("button",{onClick:a,className:"text-zinc-400 hover:text-white",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,d.jsx)("textarea",{value:c,onChange:a=>{var b;f(b=a.target.value),localStorage.setItem("foldr_dev_notes",b)},placeholder:"Add notes for build & roadmap...",className:"flex-1 p-4 bg-zinc-900 text-white text-sm resize-none focus:outline-none placeholder-zinc-600 overflow-y-auto",style:{minHeight:g?"100%":"200px"}}),(0,d.jsx)("div",{className:"px-4 py-2 bg-zinc-800 border-t border-zinc-700 text-xs text-zinc-500",children:"Auto-saved \xb7 Shared across app"})]})}}};