(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{9153:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(95155),r=t(12115),a=t(35695),i=t(6874),n=t.n(i),c=t(98319);function o(){let e=(0,a.useRouter)(),[s,t]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{t(function(e,s){let t=new Date().getFullYear(),l={totalTrips:e.length,upcomingTrips:0,activeTrips:0,pastTrips:0,totalDays:0,citiesVisited:[],countriesVisited:[],totalFlights:0,totalHotels:0,expensesByCurrency:[],longestTrip:null,thisYearTrips:0,thisYearDays:0},r=new Set,a=new Set,i=0;e.forEach(e=>{let s=(0,c._x)(e.startDate,e.endDate);"upcoming"===s?l.upcomingTrips++:"active"===s?l.activeTrips++:l.pastTrips++;let n=new Date(e.startDate),o=new Date(e.endDate),d=Math.ceil((o.getTime()-n.getTime())/864e5)+1;if(l.totalDays+=d,d>i&&(i=d,l.longestTrip={name:e.name,days:d}),(n.getFullYear()===t||o.getFullYear()===t)&&(l.thisYearTrips++,l.thisYearDays+=d),e.destination){let s=e.destination.split(",").map(e=>e.trim());s[0]&&r.add(s[0]),s[1]&&a.add(s[1])}}),s.forEach(e=>{"flight"===e.type&&l.totalFlights++,"hotel"===e.type&&l.totalHotels++}),l.citiesVisited=Array.from(r),l.countriesVisited=Array.from(a);let n=(0,c.ck)(),o={};return n.forEach(e=>{o[e.currency]=(o[e.currency]||0)+e.amount}),l.expensesByCurrency=Object.entries(o).map(e=>{let[s,t]=e,l=c.yR.find(e=>e.code===s);return{currency:s,symbol:(null==l?void 0:l.symbol)||s,total:t}}),l}((0,c.nH)(),(0,c.Tr)())),o(!1)},[]),i||!s)?(0,l.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-slate-500",children:"Loading stats..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-slate-900 pb-20",children:[(0,l.jsx)("header",{className:"bg-slate-800/50 backdrop-blur-lg border-b border-slate-700/50 sticky top-0 z-10",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-4",children:[(0,l.jsx)("button",{onClick:()=>e.back(),className:"text-slate-400 hover:text-white transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M15 19l-7-7 7-7"})})}),(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"Travel Statistics"})]})}),(0,l.jsxs)("main",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsx)(d,{icon:(0,l.jsx)(h,{}),label:"Total Trips",value:s.totalTrips,color:"blue"}),(0,l.jsx)(d,{icon:(0,l.jsx)(m,{}),label:"Days Traveled",value:s.totalDays,color:"green"}),(0,l.jsx)(d,{icon:(0,l.jsx)(u,{}),label:"Cities Visited",value:s.citiesVisited.length,color:"purple"}),(0,l.jsx)(d,{icon:(0,l.jsx)(p,{}),label:"Countries",value:s.countriesVisited.length,color:"orange"})]}),(0,l.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Trip Status"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(x,{label:"Upcoming",value:s.upcomingTrips,total:s.totalTrips,color:"blue"}),(0,l.jsx)(x,{label:"Active",value:s.activeTrips,total:s.totalTrips,color:"green"}),(0,l.jsx)(x,{label:"Completed",value:s.pastTrips,total:s.totalTrips,color:"slate"})]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-blue-600/20 to-purple-600/20 rounded-xl p-4 border border-blue-500/30",children:[(0,l.jsxs)("h2",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date().getFullYear()," Summary"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-white",children:s.thisYearTrips}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"trips this year"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-white",children:s.thisYearDays}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"days traveling"})]})]})]}),(0,l.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Itinerary Items"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-sky-500/20 flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-sky-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{d:"M5 13l4 4L19 7"}),(0,l.jsx)("path",{d:"M12 19l-2-2m0 0l-2-2m2 2l2-2m-2 2l-2 2"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xl font-bold text-white",children:s.totalFlights}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"Flights"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xl font-bold text-white",children:s.totalHotels}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"Hotels"})]})]})]})]}),s.longestTrip&&(0,l.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-2",children:"Longest Trip"}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-slate-300",children:s.longestTrip.name}),(0,l.jsxs)("span",{className:"text-blue-400 font-semibold",children:[s.longestTrip.days," days"]})]})]}),s.citiesVisited.length>0&&(0,l.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Cities Visited"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:s.citiesVisited.map(e=>(0,l.jsx)("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-sm text-slate-300",children:e},e))})]}),s.expensesByCurrency.length>0&&(0,l.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Total Expenses"}),(0,l.jsx)("div",{className:"space-y-2",children:s.expensesByCurrency.map(e=>{let{currency:s,symbol:t,total:r}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-slate-400",children:s}),(0,l.jsxs)("span",{className:"text-white font-semibold",children:[t,r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},s)})})]}),0===s.totalTrips&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-slate-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No trips yet"}),(0,l.jsx)("p",{className:"text-slate-500 mb-4",children:"Create your first trip to see statistics"}),(0,l.jsxs)(n(),{href:"/trips/new",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M12 4v16m8-8H4"})}),"Create Trip"]})]})]})]})}function d(e){let{icon:s,label:t,value:r,color:a}=e;return(0,l.jsxs)("div",{className:"bg-gradient-to-br ".concat({blue:"from-blue-600/20 to-blue-600/5 border-blue-500/30",green:"from-green-600/20 to-green-600/5 border-green-500/30",purple:"from-purple-600/20 to-purple-600/5 border-purple-500/30",orange:"from-orange-600/20 to-orange-600/5 border-orange-500/30"}[a]," rounded-xl p-4 border"),children:[(0,l.jsx)("div",{className:"flex items-center gap-3 mb-2",children:s}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:r}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:t})]})}function x(e){let{label:s,value:t,total:r,color:a}=e,i=r>0?t/r*100:0;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,l.jsx)("span",{className:"text-slate-400",children:s}),(0,l.jsx)("span",{className:"text-white",children:t})]}),(0,l.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat({blue:"bg-blue-500",green:"bg-green-500",slate:"bg-slate-500"}[a]," rounded-full transition-all duration-500"),style:{width:"".concat(i,"%")}})})]})}function h(){return(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,l.jsx)("path",{d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}function m(){return(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}function u(){return(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}function p(){return(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-orange-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},35695:(e,s,t)=>{"use strict";var l=t(18999);t.o(l,"useRouter")&&t.d(s,{useRouter:function(){return l.useRouter}})},90289:(e,s,t)=>{Promise.resolve().then(t.bind(t,9153))}},e=>{e.O(0,[874,319,441,964,358],()=>e(e.s=90289)),_N_E=e.O()}]);